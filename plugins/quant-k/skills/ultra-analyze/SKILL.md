---
name: ultra-analyze
description: KRX-Quant ìš¸íŠ¸ë¼ ë¶„ì„ ëª¨ë“œ. ëª¨ë“  ê¸°ëŠ¥ì„ ìµœëŒ€ ì—­ëŸ‰ìœ¼ë¡œ í™œìš©í•˜ì—¬ ì‹¬ì¸µ ë¶„ì„ ìˆ˜í–‰. "ìš¸íŠ¸ë¼ ë¶„ì„", "ultra", "ë”¥ ë¶„ì„", "ì „ì²´ ë¶„ì„" ë“±ì˜ ìš”ì²­ì— ìë™ í™œì„±í™”.
argument-hint: <ì¢…ëª©ëª…|ì¢…ëª©ì½”ë“œ> [ì €ì¥ê²½ë¡œ]
allowed-tools:
  - Read
  - Write
  - Glob
  - Grep
  - Bash
  - Task
  - WebFetch
---

# KRX-Quant Ultra ë¶„ì„ ëª¨ë“œ

---

## ğŸš¨ ìµœìš°ì„  ì‹¤í–‰ ì§€ì¹¨

### âŒ ê¸ˆì§€ ì‚¬í•­

- Bashë¡œ ì§ì ‘ ëª¨ë“  ë¶„ì„ì„ ìˆ˜í–‰í•˜ì§€ ë§ˆì„¸ìš”
- íŒ©í„° ë¶„ì„/ìœ ì‚¬ ì¢…ëª© ê²€ìƒ‰/ì›¹ ìŠ¤í¬ë˜í•‘ì„ ì§ì ‘ ìˆ˜í–‰í•˜ì§€ ë§ˆì„¸ìš”

### âœ… í•„ìˆ˜ ì‹¤í–‰ íŒ¨í„´

| Phase | ì‹¤í–‰ ë°©ë²• | ë„êµ¬ | ë¹„ê³  |
|-------|----------|------|------|
| Phase 1 | `collect_all` ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰ | Bash | `run_in_background: true` |
| Phase 2 | `web-scraper` ì¦‰ì‹œ ì‹¤í–‰ | Task | Phase 1ê³¼ ë™ì‹œ |
| Phase 3-4 | `quant-analyst` + `stock-screener` | Task | Phase 1 ì™„ë£Œ í›„ |
| Phase 5-6 | ê¸°ìˆ ë¶„ì„ + ë¦¬í¬íŠ¸ ìƒì„± | Write | - |

### ğŸ¯ Phase 2-4: ì—ì´ì „íŠ¸ ë³‘ë ¬ ì‹¤í–‰

| ì—ì´ì „íŠ¸ | subagent_type | ì¶œë ¥ íŒŒì¼ | Phase 1 í•„ìš” | ì‹¤í–‰ ì‹œì  |
|----------|---------------|-----------|-------------|----------|
| ì›¹ ìŠ¤í¬ë˜í¼ | `quant-k:web-scraper` | `analysis/web-data.md` | âŒ | **ì¦‰ì‹œ** |
| í€€íŠ¸ ë¶„ì„ê°€ | `quant-k:quant-analyst` | `analysis/valuation.md` | âœ… | Phase 1 í›„ |
| ì¢…ëª© ìŠ¤í¬ë¦¬ë„ˆ | `quant-k:stock-screener` | `analysis/similar-stocks.md` | âœ… | Phase 1 í›„ |

**ìµœì  ì‹¤í–‰ ìˆœì„œ:**
1. Phase 1 (ë°±ê·¸ë¼ìš´ë“œ) + `web-scraper` (ì¦‰ì‹œ) ë™ì‹œ ì‹œì‘
2. `TaskOutput`ìœ¼ë¡œ Phase 1 ì™„ë£Œ í™•ì¸
3. `quant-analyst` + `stock-screener` ë™ì‹œ ì‹¤í–‰

âš ï¸ **íŒŒì¼ ì¶©ëŒ ë°©ì§€**: ê° ì—ì´ì „íŠ¸ëŠ” **ìì‹ ì˜ ì „ìš© íŒŒì¼ì—ë§Œ** ì‘ì„±. **README.mdëŠ” Phase 6ì—ì„œë§Œ ìƒì„±**.

### âš ï¸ ìŠ¤í‚¬ vs ì—ì´ì „íŠ¸

| âŒ ìŠ¤í‚¬ (Task ë¶ˆê°€) | âœ… ì—ì´ì „íŠ¸ (Task ì‚¬ìš©) |
|-------------------|----------------------|
| `quant-k:factor-analyze` | `quant-k:quant-analyst` |
| `quant-k:stock-screen` | `quant-k:stock-screener` |
| `quant-k:browser-scraper` | `quant-k:web-scraper` |

---

## Phase 1: ë°ì´í„° ìˆ˜ì§‘ (ë°±ê·¸ë¼ìš´ë“œ)

```bash
python3 "${CLAUDE_PLUGIN_ROOT}/scripts/krx_utils.py" collect_all "ì¢…ëª©ì½”ë“œ" --days 365
```

### âš¡ ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰ (ê¶Œì¥)

í™”ë©´ ë©ˆì¶¤ ë°©ì§€ë¥¼ ìœ„í•´ **ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰** ì‚¬ìš©:

```json
{ "command": "python3 ...", "run_in_background": true, "timeout": 300000 }
```

**ì‹¤í–‰ ìˆœì„œ:**
1. Phase 1ì„ `run_in_background: true`ë¡œ ì‹œì‘
2. **ì¦‰ì‹œ** `web-scraper` ì—ì´ì „íŠ¸ ì‹¤í–‰ (Phase 1 ë°ì´í„° ë¶ˆí•„ìš”)
3. `TaskOutput`ìœ¼ë¡œ Phase 1 ì™„ë£Œ ëŒ€ê¸°
4. Phase 1 ì™„ë£Œ í›„ `quant-analyst`, `stock-screener` ì‹¤í–‰

**pykrx ë ˆí¼ëŸ°ìŠ¤ê°€ í•„ìš”í•˜ë©´:** `_shared/pykrx-reference.md` ì°¸ì¡°

---

## Phase 5: ê¸°ìˆ ë¶„ì„

- ì´ë™í‰ê· ì„  (5/10/20/60/120/240ì¼)
- RSI, MACD, ë³¼ë¦°ì €ë°´ë“œ
- ì§€ì§€/ì €í•­ì„  ë¶„ì„

---

## Phase 6: ë¦¬í¬íŠ¸ êµ¬ì¡°

```
{ì €ì¥ê²½ë¡œ}/{ì¢…ëª©ëª…}_ultra_{ë‚ ì§œ}/
â”œâ”€â”€ README.md          # ë©”ì¸ ë¦¬í¬íŠ¸ (Phase 6ì—ì„œë§Œ ìƒì„±)
â”œâ”€â”€ data/ohlcv.csv     # ê°€ê²© ë°ì´í„°
â””â”€â”€ analysis/
    â”œâ”€â”€ web-data.md    # ì›¹ ìŠ¤í¬ë˜í¼ ì¶œë ¥
    â”œâ”€â”€ valuation.md   # í€€íŠ¸ ë¶„ì„ê°€ ì¶œë ¥
    â”œâ”€â”€ similar-stocks.md  # ìŠ¤í¬ë¦¬ë„ˆ ì¶œë ¥
    â””â”€â”€ technical.md   # ê¸°ìˆ ë¶„ì„
```

### âš ï¸ README.md ì‘ì„± ì „ í•„ìˆ˜ ì²´í¬

```
1. Globìœ¼ë¡œ README.md ì¡´ì¬ ì—¬ë¶€ í™•ì¸
2. íŒŒì¼ì´ ì¡´ì¬í•˜ë©´ â†’ Readë¡œ ë¨¼ì € ì½ê¸°
3. ê·¸ í›„ Writeë¡œ ìƒˆ ë‚´ìš© ì‘ì„±
```

**ë¦¬í¬íŠ¸ ì„¹ì…˜:** Executive Summary â†’ ìŠ¤ì½”ì–´ì¹´ë“œ â†’ ê¸°ì—…ê°œìš” â†’ ì£¼ê°€ë¶„ì„ â†’ ê¸°ìˆ ë¶„ì„ â†’ ë°¸ë¥˜ì—ì´ì…˜ â†’ ìœ ì‚¬ì¢…ëª© â†’ íˆ¬ìì „ëµ â†’ ê²°ë¡ 

---

## âš ï¸ ì¶œë ¥ ê²½ë¡œ ê·œì¹™

- ëª¨ë“  íŒŒì¼ì€ **ì €ì¥ê²½ë¡œ ì•„ë˜ì—ë§Œ** ìƒì„±
- ë¯¸ì§€ì • ì‹œ `{ì¢…ëª©ëª…}_ultra_{ë‚ ì§œ}/` ë””ë ‰í† ë¦¬ ìƒì„±
- **í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— ì§ì ‘ íŒŒì¼ ìƒì„± ê¸ˆì§€**

---

## ì‚¬ìš©ë²•

```bash
/quant-k:ultra-analyze ë™ìš´ì•„ë‚˜í…
/quant-k:ultra-analyze 094170 report/
```

```
"ì‚¼ì„±ì „ì ìš¸íŠ¸ë¼ ë¶„ì„í•´ì¤˜"
"SKí•˜ì´ë‹‰ìŠ¤ ì‹¬ì¸µ ë¶„ì„ ë¦¬í¬íŠ¸"
```

---

## âœ… ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] Phase 1: `collect_all` ì™„ë£Œ
- [ ] Phase 2-4: ì—ì´ì „íŠ¸ 3ê°œ Taskë¡œ ì‹¤í–‰
- [ ] Phase 5: ê¸°ìˆ ë¶„ì„ ìˆ˜í–‰
- [ ] Phase 6: README.md ë¦¬í¬íŠ¸ ìƒì„±
