<%# app/views/shared/_turbo_frame_template.html.erb %>
<%# Turbo Frame 기본 템플릿 %>
<%# %>
<%# 사용법: %>
<%#   <%= turbo_frame_tag dom_id(@post) do %> %>
<%#     <!-- 컨텐츠 --> %>
<%#   <%% end %> %>

<%# === 기본 Turbo Frame === %>
<%= turbo_frame_tag dom_id(record) do %>
  <div class="frame-content">
    <%= yield %>
  </div>
<% end %>

<%# === Lazy Loading Frame === %>
<%= turbo_frame_tag "lazy_content",
    src: lazy_content_path,
    loading: :lazy do %>
  <div class="animate-pulse">
    Loading...
  </div>
<% end %>

<%# === Edit 모드 Frame === %>
<%= turbo_frame_tag dom_id(record, :edit) %>

<%# === 리스트 항목 Frame === %>
<%= turbo_frame_tag dom_id(record) do %>
  <article class="list-item">
    <div class="flex justify-between items-center">
      <div>
        <%= record.title %>
      </div>
      <div class="flex gap-2">
        <%= link_to "Edit",
            edit_record_path(record),
            data: { turbo_frame: dom_id(record) } %>
        <%= button_to "Delete",
            record_path(record),
            method: :delete,
            data: { turbo_confirm: "Are you sure?" } %>
      </div>
    </div>
  </article>
<% end %>

<%# === 모달 Frame === %>
<%= turbo_frame_tag "modal" do %>
  <dialog open class="modal">
    <div class="modal-content">
      <%= yield %>
    </div>
  </dialog>
<% end %>
