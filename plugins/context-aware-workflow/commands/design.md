---
description: Create UX/UI or architecture design documents before implementation
---

# /cw:design - Design Phase

Create structured design documents for UX/UI or system architecture using specialized agents.

## Usage

```bash
/cw:design --ui                     # UX/UI design with Designer agent
/cw:design --arch                   # Architecture design with Architect agent
/cw:design --all                    # Both UI and architecture
/cw:design                          # Interactive mode - choose type
```

## Behavior

### Step 1: Determine Design Type

Based on arguments:

| Argument | Agent | Output |
|----------|-------|--------|
| `--ui` | Designer | `.caw/design/ux-ui.md` |
| `--arch` | Architect | `.caw/design/architecture.md` |
| `--all` | Both | Both files |
| (none) | Interactive | Ask user |

### Step 2: Gather Context

1. Check for `.caw/brainstorm.md` (input context)
2. Check for existing `.caw/design/` files
3. Analyze codebase for existing patterns

```
ğŸ“‹ Design Context

Inputs Found:
  âœ… .caw/brainstorm.md (recommended input)
  âŒ .caw/design/ux-ui.md (will create)
  âŒ .caw/design/architecture.md (will create)

Codebase Analysis:
  â€¢ Framework: React + TypeScript
  â€¢ Existing patterns: Component-based UI
  â€¢ Database: PostgreSQL
```

### Step 3: Invoke Appropriate Agent

#### For `--ui`: Designer Agent

```markdown
## Designer Agent Invocation

**Context**:
- Brainstorm: .caw/brainstorm.md (if exists)
- Existing UI patterns: [detected]
- Design system: [if present]

**Instructions**:
1. Read context and requirements
2. Design user flows for key tasks
3. Create wireframes (ASCII)
4. Specify component behaviors
5. Document accessibility requirements
6. Write .caw/design/ux-ui.md
```

#### For `--arch`: Architect Agent

```markdown
## Architect Agent Invocation

**Context**:
- Brainstorm: .caw/brainstorm.md (if exists)
- UX Design: .caw/design/ux-ui.md (if exists)
- Existing architecture: [detected]

**Instructions**:
1. Read context and requirements
2. Design system components and boundaries
3. Create data models
4. Specify API contracts
5. Document technical decisions
6. Write .caw/design/architecture.md
```

### Step 4: Generate Output

```
ğŸ“ Design Complete

Created Files:
  âœ… .caw/design/ux-ui.md
     - 3 user flows defined
     - 5 screen wireframes
     - 12 component specs

  âœ… .caw/design/architecture.md
     - 4 services defined
     - 8 API endpoints
     - 3 technical decisions documented

ğŸ’¡ Next Steps:
   â€¢ Review designs with stakeholders
   â€¢ /cw:start to create implementation plan
```

## Output Structure

```
.caw/
â”œâ”€â”€ brainstorm.md           â† Input (optional)
â”œâ”€â”€ design/
â”‚   â”œâ”€â”€ ux-ui.md            â† UX/UI design
â”‚   â””â”€â”€ architecture.md     â† System architecture
â”œâ”€â”€ task_plan.md            â† Generated by /cw:start
â””â”€â”€ context_manifest.json
```

## Design Types

### UX/UI Design (`--ui`)

**Designer agent creates**:
- User flow diagrams
- ASCII wireframes
- Component specifications
- Interaction states
- Accessibility requirements
- Responsive design rules

**Example wireframe**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Logo]              [Nav] [Profile] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚      Dashboard Header       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  Stats   â”‚  â”‚   Chart      â”‚     â”‚
â”‚  â”‚  Card    â”‚  â”‚              â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Architecture Design (`--arch`)

**Architect agent creates**:
- System component diagrams
- Data models (ERD)
- API specifications
- Technical decision records
- Security considerations
- Scalability plans

**Example diagram**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Client    â”‚â”€â”€â”€â”€â–ºâ”‚ API Gateway â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                  â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Auth Service â”‚  â”‚ User Service  â”‚  â”‚ Order Service â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                  â”‚                  â”‚
        â–¼                  â–¼                  â–¼
    [Cache]            [Users DB]        [Orders DB]
```

## Example

```bash
/cw:design --arch
```

**Output**: `ğŸ“ Design Complete: .caw/design/architecture.md`
- Components: N services
- Data Models: M entities
- API Endpoints: K documented

**Mode Matrix:**
| Flag | Agent | Output | Best For |
|------|-------|--------|----------|
| `--ui` | Designer | `ux-ui.md` | Frontend-heavy features |
| `--arch` | Architect | `architecture.md` | Backend-heavy features |
| `--all` | Both | Both files | New features, major changes |
| (none) | Interactive | Choose type | Uncertain scope |

## Edge Cases

### No Brainstorm Found

```
â„¹ï¸ No Brainstorm Context

.caw/brainstorm.md not found.

Options:
  [1] Continue without brainstorm
      â†’ Design based on your description

  [2] Run brainstorm first
      â†’ /cw:brainstorm "your idea"

  [3] Provide requirements directly
      â†’ Describe what you need
```

### Existing Design Found

```
ğŸ“‹ Existing Design Found

.caw/design/ux-ui.md exists
  Created: 2ì‹œê°„ ì „
  Status: Draft

[1] Update existing design
[2] View current design
[3] Start fresh (archive existing)
[4] Skip to architecture
```

### Design Without Implementation Intent

```
â„¹ï¸ Design Standalone Mode

Designs created without immediate implementation:
  âœ… .caw/design/ux-ui.md
  âœ… .caw/design/architecture.md

These can be used later with:
  /cw:start --from-design
```

## Integration

- **Reads**: `.caw/brainstorm.md`, existing codebase
- **Creates**: `.caw/design/` directory, `ux-ui.md`, `architecture.md`
- **Invokes**: Designer and/or Architect agents via Task tool
- **Suggests**: `/cw:start`
- **Predecessor**: `/cw:brainstorm` (optional)
- **Successor**: `/cw:start`
