# Context-Aware Workflow (CAW) ì‚¬ìš©ì ê°€ì´ë“œ

> **ë²„ì „**: 1.6.0
> **ëª©ì **: êµ¬ì¡°í™”ëœ ì‘ì—… ê³„íšê³¼ ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬ë¥¼ í†µí•œ íš¨ìœ¨ì ì¸ ê°œë°œ ì›Œí¬í”Œë¡œìš°
> **ì—…ë°ì´íŠ¸**: **Tidy First (Kent Beck) ë°©ë²•ë¡ **, ìë™ ë³‘ë ¬ ì‹¤í–‰, Git Worktree ì§€ì›, Ralph Loop, Serena ë™ê¸°í™”

---

## ğŸ“‹ ëª©ì°¨

1. [ë¹ ë¥¸ ì‹œì‘](#-ë¹ ë¥¸-ì‹œì‘)
2. [í•µì‹¬ ê°œë…](#-í•µì‹¬-ê°œë…)
3. [Tidy First ë°©ë²•ë¡ ](#-tidy-first-ë°©ë²•ë¡ -new) **(NEW)**
4. [ëª…ë ¹ì–´ ìƒì„¸](#-ëª…ë ¹ì–´-ìƒì„¸)
5. [ì—ì´ì „íŠ¸](#-ì—ì´ì „íŠ¸)
6. [ìŠ¤í‚¬](#-ìŠ¤í‚¬)
7. [ì›Œí¬í”Œë¡œìš° ì˜ˆì‹œ](#-ì›Œí¬í”Œë¡œìš°-ì˜ˆì‹œ)
8. [í›… ë™ì‘](#-í›…-ë™ì‘)
9. [ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤](#-ë² ìŠ¤íŠ¸-í”„ë™í‹°ìŠ¤)
10. [ë¬¸ì œ í•´ê²°](#-ë¬¸ì œ-í•´ê²°)

---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### ì„¤ì¹˜

```bash
# ë°©ë²• 1: ì„¸ì…˜ë³„ ë¡œë“œ (í…ŒìŠ¤íŠ¸ìš©)
claude --plugin-dir /path/to/context-aware-workflow

# ë°©ë²• 2: ì˜êµ¬ ì„¤ì¹˜
claude plugin add /path/to/context-aware-workflow
```

### ì²« ì‚¬ìš© (2ë¶„ ì™„ì„±)

```bash
# 1. í™˜ê²½ ì´ˆê¸°í™” (ì„ íƒ - /cw:startì—ì„œ ìë™ ì‹¤í–‰ë¨)
/cw:init

# 2. ìƒˆ ì‘ì—… ì‹œì‘
/cw:start "JWT ì¸ì¦ ì‹œìŠ¤í…œ êµ¬í˜„"

# 3. í˜„ì¬ ìƒíƒœ í™•ì¸
/cw:status

# 4. ë‹¤ìŒ ë‹¨ê³„ ìë™ ì‹¤í–‰ (ë³‘ë ¬ ì‹¤í–‰ ê¸°ë³¸)
/cw:next

# 5. ì½”ë“œ ë¦¬ë·°
/cw:review

# 6. ì§€ì†ì  ê°œì„  (Ralph Loop)
/cw:reflect
```

### ëª…ë ¹ì–´ í•œëˆˆì— ë³´ê¸°

| ëª…ë ¹ì–´ | ë‹¨ì¶•í˜• | ì„¤ëª… |
|--------|--------|------|
| `/context-aware-workflow:init` | `/cw:init` | í™˜ê²½ ì´ˆê¸°í™” (ìë™ ì‹¤í–‰) |
| `/context-aware-workflow:brainstorm` | `/cw:brainstorm` | ìš”êµ¬ì‚¬í•­ ë°œêµ´ (ì„ íƒ) |
| `/context-aware-workflow:design` | `/cw:design` | UX/UI, ì•„í‚¤í…ì²˜ ì„¤ê³„ (ì„ íƒ) |
| `/context-aware-workflow:start` | `/cw:start` | ì›Œí¬í”Œë¡œìš° ì‹œì‘ |
| `/context-aware-workflow:status` | `/cw:status` | ì§„í–‰ ìƒíƒœ í‘œì‹œ |
| `/context-aware-workflow:next` | `/cw:next` | ë‹¤ìŒ ë‹¨ê³„ ì‹¤í–‰ (ìë™ ë³‘ë ¬) |
| `/context-aware-workflow:review` | `/cw:review` | ì½”ë“œ ë¦¬ë·° |
| `/context-aware-workflow:fix` | `/cw:fix` | ë¦¬ë·° ê²°ê³¼ ìˆ˜ì • |
| `/context-aware-workflow:check` | `/cw:check` | ê·œì¹™ ì¤€ìˆ˜ ê²€ì¦ |
| `/context-aware-workflow:context` | `/cw:context` | ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬ |
| `/context-aware-workflow:tidy` | `/cw:tidy` | Tidy First ë¶„ì„/ì ìš© (NEW) |
| `/context-aware-workflow:reflect` | `/cw:reflect` | Ralph Loop ê°œì„  ì‚¬ì´í´ |
| `/context-aware-workflow:sync` | `/cw:sync` | Serena ë©”ëª¨ë¦¬ ë™ê¸°í™” |
| `/context-aware-workflow:worktree` | `/cw:worktree` | Git Worktree ê´€ë¦¬ |
| `/context-aware-workflow:merge` | `/cw:merge` | Worktree ë¸Œëœì¹˜ ë³‘í•© |

---

## ğŸ’¡ í•µì‹¬ ê°œë…

### 1. ì‘ì—… ê³„íš (.caw/task_plan.md)

ëª¨ë“  ê°œë°œ ì‘ì—…ì˜ ì¤‘ì‹¬ì´ ë˜ëŠ” êµ¬ì¡°í™”ëœ ê³„íš ë¬¸ì„œì…ë‹ˆë‹¤. `.caw/` í´ë”ì— ì €ì¥ë©ë‹ˆë‹¤.

```markdown
# Task Plan: JWT ì¸ì¦ ì‹œìŠ¤í…œ

## Metadata
| Field | Value |
|-------|-------|
| **Created** | 2024-01-15 14:30 |
| **Status** | In Progress |

## Execution Phases

### Phase 1: ì„¤ì •
**Phase Deps**: -

| # | Step | Status | Agent | Deps | Notes |
|---|------|--------|-------|------|-------|
| 1.1 | JWT ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ | âœ… Complete | Builder | - | jsonwebtoken@9.0 |
| 1.2 | í™˜ê²½ ë³€ìˆ˜ ì„¤ì • | ğŸ”„ In Progress | Builder | 1.1 | |

### Phase 2: êµ¬í˜„
**Phase Deps**: phase 1

| # | Step | Status | Agent | Deps | Notes |
|---|------|--------|-------|------|-------|
| 2.1 | í† í° ìƒì„± í•¨ìˆ˜ | â³ Pending | Builder | - | |
| 2.2 | í† í° ê²€ì¦ í•¨ìˆ˜ | â³ Pending | Builder | 2.1 | |
```

**ìƒíƒœ ì•„ì´ì½˜**:
| ì•„ì´ì½˜ | ìƒíƒœ | ì„¤ëª… |
|--------|------|------|
| â³ | Pending | ëŒ€ê¸° ì¤‘ |
| ğŸ”„ | In Progress | ì§„í–‰ ì¤‘ |
| âœ… | Complete | ì™„ë£Œ |
| âŒ | Blocked/Failed | ì°¨ë‹¨ë¨/ì‹¤íŒ¨ |
| â­ï¸ | Skipped | ê±´ë„ˆëœ€ |

### 2. ì»¨í…ìŠ¤íŠ¸ ê³„ì¸µ

| ê³„ì¸µ | ì„¤ëª… | í† í° ì˜í–¥ | ê´€ë¦¬ ëª…ë ¹ |
|------|------|----------|-----------|
| **Active** | í˜„ì¬ í¸ì§‘ ì¤‘ì¸ íŒŒì¼ | ë†’ìŒ (ì „ì²´ ë‚´ìš©) | `context add` |
| **Project** | ì½ê¸° ì „ìš© ì°¸ì¡° íŒŒì¼ | ì¤‘ê°„ | `context add --project` |
| **Packed** | ì¸í„°í˜ì´ìŠ¤ë§Œ ìš”ì•½ | ë‚®ìŒ | `context pack` |
| **Archived** | ì €ì¥ë§Œ, ë¡œë“œ ì•ˆ í•¨ | ì—†ìŒ | `context remove` |

### 3. ìë™ ë³‘ë ¬ ì‹¤í–‰ (v1.5.0 NEW)

CAWëŠ” ê¸°ë³¸ì ìœ¼ë¡œ **ìë™ ë³‘ë ¬ ì‹¤í–‰**ì„ ì§€ì›í•©ë‹ˆë‹¤:

```
/cw:next ì‹¤í–‰ ì‹œ:
1. dependency-analyzerë¡œ ì‹¤í–‰ ê°€ëŠ¥í•œ step ë¶„ì„
2. ë³‘ë ¬ ê°€ëŠ¥ step ê°œìˆ˜ í™•ì¸:
   - 0ê°œ: "No runnable steps" ë©”ì‹œì§€
   - 1ê°œ: ë‹¨ì¼ step ì‹¤í–‰ (blocking)
   - â‰¥2ê°œ: ìë™ background agent ë³‘ë ¬ ì‹¤í–‰
```

### 4. í‹°ì–´ë³„ ëª¨ë¸ ë¼ìš°íŒ… (v1.5.0)

ì—ì´ì „íŠ¸ëŠ” ì‘ì—… ë³µì¡ë„ì— ë”°ë¼ ìë™ìœ¼ë¡œ ìµœì  ëª¨ë¸ì„ ì„ íƒí•©ë‹ˆë‹¤:

| ë³µì¡ë„ ì ìˆ˜ | ëª¨ë¸ | ìš©ë„ |
|------------|------|------|
| â‰¤ 0.3 | Haiku | ê°„ë‹¨í•œ ì‘ì—…, ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ |
| 0.3 - 0.7 | Sonnet | ì¼ë°˜ì ì¸ êµ¬í˜„ ì‘ì—… |
| > 0.7 | Opus | ë³µì¡í•œ ë¡œì§, ë³´ì•ˆ ê´€ë ¨ |

### 5. Tidy First ë°©ë²•ë¡  (v1.6.0 NEW)

Kent Beckì˜ **Tidy First** ë°©ë²•ë¡ ì„ ì ìš©í•˜ì—¬ ì½”ë“œ í’ˆì§ˆì„ í–¥ìƒì‹œí‚µë‹ˆë‹¤.

#### í•µì‹¬ ì›ì¹™

> "êµ¬ì¡°ì  ë³€ê²½ê³¼ ë™ì‘ ë³€ê²½ì„ ê°™ì€ ì»¤ë°‹ì— í˜¼í•©í•˜ì§€ ë§ˆë¼.
> ë‘˜ ë‹¤ í•„ìš”í•  ë•ŒëŠ” í•­ìƒ êµ¬ì¡°ì  ë³€ê²½ì„ ë¨¼ì € í•˜ë¼."
> â€” Kent Beck

#### Step Type ë¶„ë¥˜

| ì•„ì´ì½˜ | Type | ì„¤ëª… | ì»¤ë°‹ í”„ë¦¬í”½ìŠ¤ |
|--------|------|------|--------------|
| ğŸ§¹ | Tidy | êµ¬ì¡°ì  ë³€ê²½ (ë™ì‘ ë³€í™” ì—†ìŒ) | `[tidy]` |
| ğŸ”¨ | Build | ë™ì‘ ë³€ê²½ (ìƒˆ ê¸°ëŠ¥, ë²„ê·¸ ìˆ˜ì •) | `[feat]`, `[fix]` |

#### Tidy Step ì˜ˆì‹œ

| ì‘ì—… | Type | ì„¤ëª… |
|------|------|------|
| ë³€ìˆ˜/í•¨ìˆ˜ ì´ë¦„ ë³€ê²½ | ğŸ§¹ Tidy | ëª…í™•í•œ ë„¤ì´ë° |
| ë©”ì„œë“œ ì¶”ì¶œ | ğŸ§¹ Tidy | ì¤‘ë³µ ì½”ë“œ ë¶„ë¦¬ |
| íŒŒì¼ ì¬êµ¬ì„± | ğŸ§¹ Tidy | ë””ë ‰í† ë¦¬ ì •ë¦¬ |
| ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì½”ë“œ ì œê±° | ğŸ§¹ Tidy | Dead code ì‚­ì œ |

#### task_plan.md í˜•ì‹ (Tidy First)

```markdown
### Phase 2: Core Implementation
**Phase Deps**: phase 1

| # | Step | Type | Status | Agent | Deps | Notes |
|---|------|------|--------|-------|------|-------|
| 2.0 | ê¸°ì¡´ auth ì½”ë“œ ì •ë¦¬ | ğŸ§¹ Tidy | â³ | Builder | - | ë„¤ì´ë° ê°œì„  |
| 2.1 | JWT ìœ í‹¸ë¦¬í‹° êµ¬í˜„ | ğŸ”¨ Build | â³ | Builder | 2.0 | |
| 2.2 | í† í° ê²€ì¦ í•¨ìˆ˜ | ğŸ”¨ Build | â³ | Builder | 2.1 | |
```

#### ì›Œí¬í”Œë¡œìš°

```
1. Plannerê°€ ê° Phaseì— í•„ìš”í•œ Tidy step ìë™ ìƒì„±
2. Builderê°€ Tidy step ì‹¤í–‰ â†’ [tidy] ì»¤ë°‹
3. Builderê°€ Build step ì‹¤í–‰ â†’ [feat] ì»¤ë°‹
4. Quality Gateê°€ í˜¼í•© ë³€ê²½ ê²€ì¶œ ì‹œ ì°¨ë‹¨
```

#### /cw:tidy ëª…ë ¹ì–´

```bash
/cw:tidy                  # í˜„ì¬ step ëŒ€ìƒ ë¶„ì„
/cw:tidy --scope src/     # íŠ¹ì • ë””ë ‰í† ë¦¬ ë¶„ì„
/cw:tidy --preview        # ë¯¸ë¦¬ë³´ê¸°ë§Œ (ë³€ê²½ ì—†ìŒ)
/cw:tidy --apply          # ë³€ê²½ ì ìš©
/cw:tidy --add-step       # Tidy step ì¶”ê°€
```

### 6. ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ

CAWëŠ” 9ê°œì˜ ì „ë¬¸ ì—ì´ì „íŠ¸ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤ (ê°ê° í‹°ì–´ë³„ ë³€í˜• í¬í•¨):

**ì´ˆê¸°í™” ì—ì´ì „íŠ¸**:
| ì—ì´ì „íŠ¸ | ì—­í•  | ì¶œë ¥ë¬¼ |
|----------|------|--------|
| **Bootstrapper** | í™˜ê²½ ì´ˆê¸°í™”, í”„ë¡œì íŠ¸ íƒì§€ | `.caw/context_manifest.json` |

**ì„ íƒì  ì„¤ê³„ ì—ì´ì „íŠ¸** (ì‚¬ì „ ì„¤ê³„ ë‹¨ê³„):
| ì—ì´ì „íŠ¸ | ì—­í•  | ì¶œë ¥ë¬¼ |
|----------|------|--------|
| **Ideator** | ìš”êµ¬ì‚¬í•­ ë°œêµ´, Socratic ì§ˆë¬¸ | `.caw/brainstorm.md` |
| **Designer** | UX/UI ì„¤ê³„, ì™€ì´ì–´í”„ë ˆì„ | `.caw/design/ux-ui.md` |
| **Architect** | ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ì„¤ê³„ | `.caw/design/architecture.md` |

**í•µì‹¬ êµ¬í˜„ ì—ì´ì „íŠ¸** (í‹°ì–´ë³„ ë³€í˜• í¬í•¨):
| ì—ì´ì „íŠ¸ | ì—­í•  | í‹°ì–´ ë³€í˜• |
|----------|------|-----------|
| **Planner** | ì‹¤í–‰ ê³„íš ìƒì„± | Haiku, Sonnet (ê¸°ë³¸), Opus |
| **Builder** | TDD êµ¬í˜„ ë° í…ŒìŠ¤íŠ¸ | Haiku, Sonnet, Opus (ê¸°ë³¸) |
| **Reviewer** | ì½”ë“œ í’ˆì§ˆ ë¦¬ë·° | Haiku, Sonnet (ê¸°ë³¸), Opus |
| **Fixer** | ë¦¬ë·° ê²°ê³¼ ìˆ˜ì •/ë¦¬íŒ©í† ë§ | Haiku, Sonnet (ê¸°ë³¸) |
| **ComplianceChecker** | ê·œì¹™ ì¤€ìˆ˜ ê²€ì¦ | Haiku (ê¸°ë³¸) |

**ì „ì²´ ì›Œí¬í”Œë¡œìš° ë‹¤ì´ì–´ê·¸ë¨**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     CAW (Context-Aware Workflow) Pipeline                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

 User Request
      â”‚
      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ BOOTSTRAPPERâ”‚  â—„â”€â”€ /cw:init (ìë™ ë˜ëŠ” ìˆ˜ë™)
â”‚   (haiku)   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ í™˜ê²½ ì²´í¬  â”‚
â”‚ â€¢ .caw/ ìƒì„±â”‚
â”‚ â€¢ í”„ë¡œì íŠ¸   â”‚
â”‚   ë¶„ì„      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼ .caw/context_manifest.json
       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        [ì„ íƒì  Discovery/Design Phase]                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚   IDEATOR     â”‚    â”‚   DESIGNER    â”‚    â”‚   ARCHITECT   â”‚               â”‚
â”‚  â”‚   (sonnet)    â”‚    â”‚   (sonnet)    â”‚    â”‚   (sonnet)    â”‚               â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”‚
â”‚  â”‚/cw:brainstormâ”‚    â”‚/cw:design    â”‚    â”‚/cw:design    â”‚               â”‚
â”‚  â”‚               â”‚    â”‚  --ui         â”‚    â”‚  --arch       â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚          â”‚                    â”‚                    â”‚                        â”‚
â”‚          â–¼                    â–¼                    â–¼                        â”‚
â”‚   brainstorm.md        ux-ui.md            architecture.md                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         [í•µì‹¬ Implementation Phase]                          â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                           â”‚
â”‚  â”‚    PLANNER    â”‚  â—„â”€â”€ /cw:start "ì‘ì—… ì„¤ëª…"                               â”‚
â”‚  â”‚ (haiku/sonnet â”‚                                                           â”‚
â”‚  â”‚  /opus ìë™)  â”‚                                                           â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                                           â”‚
â”‚  â”‚ â€¢ ìš”êµ¬ì‚¬í•­    â”‚                                                           â”‚
â”‚  â”‚   ë¶„ì„       â”‚                                                           â”‚
â”‚  â”‚ â€¢ Phase/Step â”‚                                                           â”‚
â”‚  â”‚   ê³„íš ìƒì„±  â”‚                                                            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                                           â”‚
â”‚          â”‚                                                                   â”‚
â”‚          â–¼ task_plan.md                                                      â”‚
â”‚          â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚  â”‚    BUILDER    â”‚  â—„â”€â”€â”‚   WORKTREE    â”‚  â—„â”€â”€ /cw:worktree (ì„ íƒ)          â”‚
â”‚  â”‚ (ìë™ ë³‘ë ¬)   â”‚     â”‚  (Phaseë³„     â”‚                                     â”‚
â”‚  â”‚              â”‚     â”‚   ê²©ë¦¬ ì‹¤í–‰)  â”‚                                     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚  â”‚ â€¢ TDD êµ¬í˜„    â”‚                                                           â”‚
â”‚  â”‚ â€¢ ë³‘ë ¬ ì‹¤í–‰   â”‚  â”€â”€â”€â”                                                     â”‚
â”‚  â”‚ â€¢ ìƒíƒœ ê°±ì‹    â”‚     â”‚ ë°˜ë³µ                                                â”‚
â”‚  â”‚              â”‚  â—„â”€â”€â”˜                                                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                                           â”‚
â”‚          â”‚                                                                   â”‚
â”‚          â–¼ êµ¬í˜„ ì½”ë“œ + í…ŒìŠ¤íŠ¸                                                 â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            [Quality Gate Phase]                              â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   REVIEWER    â”‚         â”‚    FIXER      â”‚         â”‚  COMPLIANCE   â”‚      â”‚
â”‚  â”‚ (haiku/sonnet â”‚         â”‚ (haiku/sonnet)â”‚         â”‚   CHECKER     â”‚      â”‚
â”‚  â”‚  /opus ìë™)  â”‚         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚   (haiku)     â”‚      â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚/cw:fix       â”‚         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
â”‚  â”‚/cw:review    â”‚   â”€â”€â”€â”€â–¶ â”‚  --deep       â”‚         â”‚/cw:check     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚          â”‚                         â”‚                         â”‚              â”‚
â”‚          â–¼                         â–¼                         â–¼              â”‚
â”‚   ë¦¬ë·° ë¦¬í¬íŠ¸              ìˆ˜ì •ëœ ì½”ë“œ               ì»´í”Œë¼ì´ì–¸ìŠ¤ ë¦¬í¬íŠ¸       â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         [Continuous Improvement Phase]                       â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚  â”‚  RALPH LOOP   â”‚         â”‚  SERENA SYNC  â”‚                                â”‚
â”‚  â”‚               â”‚         â”‚               â”‚                                â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                â”‚
â”‚  â”‚/cw:reflect   â”‚         â”‚/cw:sync      â”‚                                â”‚
â”‚  â”‚ R-A-L-P-H     â”‚         â”‚ ì§€ì‹ ì˜ì†í™”   â”‚                                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â”‚          â”‚                         â”‚                                        â”‚
â”‚          â–¼                         â–¼                                        â”‚
â”‚   learnings.md              Serena ë©”ëª¨ë¦¬                                    â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
   âœ… ì‘ì—… ì™„ë£Œ
```

**ê°„ë‹¨ ì›Œí¬í”Œë¡œìš°**:
```
/cw:init â†’ /cw:brainstorm â†’ /cw:design â†’ /cw:start â†’ /cw:next â†’ /cw:review â†’ /cw:fix â†’ /cw:check â†’ /cw:reflect
    â†“            â†“                â†“             â†“            â†“            â†“           â†“          â†“           â†“
  í™˜ê²½ì„¤ì •   brainstorm.md   design/*.md  task_plan.md   êµ¬í˜„ ì½”ë“œ    ë¦¬ë·° ë¦¬í¬íŠ¸  ìˆ˜ì •ì½”ë“œ    ê²€ì¦ ë¦¬í¬íŠ¸  learnings
  (ìë™)       (ì„ íƒ)          (ì„ íƒ)        (í•„ìˆ˜)      (ìë™ ë³‘ë ¬)   (ê¶Œì¥)      (ì„ íƒ)      (ê¶Œì¥)       (ì„ íƒ)
```

---

## ğŸ“Œ ëª…ë ¹ì–´ ìƒì„¸

### `/cw:init` - í™˜ê²½ ì´ˆê¸°í™”

CAW í™˜ê²½ì„ ì´ˆê¸°í™”í•©ë‹ˆë‹¤. `/cw:start` ì‹¤í–‰ ì‹œ ìë™ìœ¼ë¡œ í˜¸ì¶œë˜ì§€ë§Œ, ìˆ˜ë™ìœ¼ë¡œë„ ì‹¤í–‰ ê°€ëŠ¥í•©ë‹ˆë‹¤.

#### ì‚¬ìš©ë²•

```bash
# í™˜ê²½ ì´ˆê¸°í™” (ìë™ íƒì§€)
/cw:init

# í™˜ê²½ ë¦¬ì…‹ (ê¸°ì¡´ í™˜ê²½ ì‚­ì œ í›„ ì¬ìƒì„±)
/cw:init --reset

# íŠ¹ì • í”„ë¡œì íŠ¸ íƒ€ì… ì§€ì •
/cw:init --type typescript
```

#### Bootstrapper ì—ì´ì „íŠ¸ ë™ì‘

1. **í™˜ê²½ í™•ì¸**: `.caw/` ë””ë ‰í† ë¦¬ ì¡´ì¬ ì—¬ë¶€ í™•ì¸
2. **í”„ë¡œì íŠ¸ ë¶„ì„**: íŒŒì¼ êµ¬ì¡°, ê¸°ìˆ  ìŠ¤íƒ, íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € íƒì§€
3. **ë””ë ‰í† ë¦¬ ìƒì„±**: `.caw/`, `.caw/design/`, `.caw/archives/`, `.caw/knowledge/`, `.caw/insights/`
4. **ë§¤ë‹ˆí˜ìŠ¤íŠ¸ ìƒì„±**: `context_manifest.json` ì´ˆê¸°í™”

---

### `/cw:start` - ì›Œí¬í”Œë¡œìš° ì‹œì‘

ì›Œí¬í”Œë¡œìš° ì„¸ì…˜ì„ ì‹œì‘í•˜ê³  `.caw/task_plan.md`ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

#### ì‚¬ìš©ë²•

```bash
# ìƒˆ ì‘ì—… ì‹œì‘ (ê°€ì¥ ì¼ë°˜ì )
/cw:start "ì‚¬ìš©ì ì¸ì¦ ì‹œìŠ¤í…œ êµ¬í˜„"

# Plan Mode ê³„íš ê°€ì ¸ì˜¤ê¸°
/cw:start --from-plan

# íŠ¹ì • ê³„íš íŒŒì¼ ì§€ì •
/cw:start --plan-file docs/feature-plan.md
```

---

### `/cw:next` - ë‹¤ìŒ ë‹¨ê³„ ì‹¤í–‰ (ìë™ ë³‘ë ¬)

Builder ì—ì´ì „íŠ¸ë¥¼ í˜¸ì¶œí•˜ì—¬ ë‹¤ìŒ Pending ë‹¨ê³„ë¥¼ ìë™ êµ¬í˜„í•©ë‹ˆë‹¤. **v1.5.0ë¶€í„° ìë™ ë³‘ë ¬ ì‹¤í–‰ì´ ê¸°ë³¸ê°’ì…ë‹ˆë‹¤.**

#### ì‚¬ìš©ë²•

```bash
# ê¸°ë³¸ - ìë™ ë³‘ë ¬ (DEFAULT)
/cw:next                      # ë³‘ë ¬ ê°€ëŠ¥ step â‰¥2ê°œ â†’ ìë™ background ë³‘ë ¬ ì‹¤í–‰
/cw:next --sequential         # ê°•ì œ ìˆœì°¨ ì‹¤í–‰ (ë³‘ë ¬ ê°€ëŠ¥í•´ë„ ë‹¨ì¼ stepë§Œ)
/cw:next --step 2.3           # íŠ¹ì • step ì‹¤í–‰

# Phase ê¸°ë°˜ ì‹¤í–‰
/cw:next phase 1              # Phase 1 ì‹¤í–‰ (ìë™ ë³‘ë ¬ ì ìš©)
/cw:next --sequential phase 1 # Phase 1 ìˆœì°¨ ì‹¤í–‰
/cw:next --parallel phase 1   # Phase 1 ê°•ì œ ë³‘ë ¬ (1ê°œì—¬ë„ background)
/cw:next --worktree phase 2   # Phase 2ìš© worktree ìƒì„±

# ë°°ì¹˜ ì œì–´
/cw:next --batch 3            # ìµœëŒ€ 3ê°œ step ë³‘ë ¬ ì‹¤í–‰
/cw:next --all                # í˜„ì¬ phase ì „ì²´ ìˆœì°¨ ì‹¤í–‰
```

#### í”Œë˜ê·¸

| í”Œë˜ê·¸ | ì„¤ëª… |
|--------|------|
| (ì—†ìŒ) | **ìë™ ë³‘ë ¬**: ì‹¤í–‰ ê°€ëŠ¥ step â‰¥2ê°œë©´ background agent ë³‘ë ¬ ì‹¤í–‰ |
| `--sequential` | ê°•ì œ ìˆœì°¨ ì‹¤í–‰ (ë³‘ë ¬ ê°€ëŠ¥í•´ë„ ë‹¨ì¼ stepë§Œ) |
| `--parallel` | ê°•ì œ ë³‘ë ¬ ì‹¤í–‰ (1ê°œì—¬ë„ background agent ì‚¬ìš©) |
| `--all` | í˜„ì¬ phase ì „ì²´ ìˆœì°¨ ì‹¤í–‰ |
| `--worktree` | Phase ë‹¨ìœ„ git worktree ìƒì„± |
| `--step N.M` | íŠ¹ì • step ì‹¤í–‰ |
| `--batch N` | ìµœëŒ€ Nê°œ ë³‘ë ¬ ì‹¤í–‰ (ê¸°ë³¸: 5) |
| `phase N` | Phase ë²ˆí˜¸ ì§€ì • |

#### ì¶œë ¥ ì˜ˆì‹œ (ìë™ ë³‘ë ¬)

```
ğŸš€ Analyzing runnable steps...

Found 3 parallelizable steps:
  â€¢ 2.1 JWT utility (no deps)
  â€¢ 2.2 Token validation (no deps)
  â€¢ 2.3 Error handling (no deps)

Starting parallel execution...
  ğŸ”„ Agent 1: Step 2.1 (background)
  ğŸ”„ Agent 2: Step 2.2 (background)
  ğŸ”„ Agent 3: Step 2.3 (background)

ğŸ’¡ Run /cw:status to check progress
```

---

### `/cw:review` - ì½”ë“œ ë¦¬ë·°

Reviewer ì—ì´ì „íŠ¸ë¥¼ í˜¸ì¶œí•˜ì—¬ ì½”ë“œ í’ˆì§ˆì„ ë¶„ì„í•©ë‹ˆë‹¤.

#### ì‚¬ìš©ë²•

```bash
# í˜„ì¬ Phase ë¦¬ë·° (ê¸°ë³¸)
/cw:review

# íŠ¹ì • Phase ë¦¬ë·°
/cw:review --phase 2

# ë”¥ ë¦¬ë·° (ë³´ì•ˆ/ì„±ëŠ¥ ì§‘ì¤‘)
/cw:review --deep

# íŠ¹ì • ì˜ì—­ ì§‘ì¤‘
/cw:review --focus security
/cw:review --focus performance
```

---

### `/cw:fix` - ë¦¬ë·° ê²°ê³¼ ìˆ˜ì •

Reviewer ê²°ê³¼ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì½”ë“œë¥¼ ìë™ ë˜ëŠ” ëŒ€í™”í˜•ìœ¼ë¡œ ìˆ˜ì •í•©ë‹ˆë‹¤.

#### ì‚¬ìš©ë²•

```bash
# ê°„ë‹¨í•œ ì´ìŠˆ ìë™ ìˆ˜ì • (ê¸°ë³¸)
/cw:fix

# ëŒ€í™”í˜• ëª¨ë“œ (ìˆ˜ì • ì „ í™•ì¸)
/cw:fix --interactive

# íŠ¹ì • ì¹´í…Œê³ ë¦¬ë§Œ ìˆ˜ì •
/cw:fix --category docs       # ë¬¸ì„œ (JSDoc ë“±)
/cw:fix --category style      # ìŠ¤íƒ€ì¼/ë¦°íŠ¸
/cw:fix --category constants  # ë§¤ì§ ë„˜ë²„ ìƒìˆ˜í™”

# ë³µì¡í•œ ë¦¬íŒ©í† ë§ (Fixer ì—ì´ì „íŠ¸ ì‚¬ìš©)
/cw:fix --deep
```

---

### `/cw:tidy` - Tidy First ë¶„ì„/ì ìš© (NEW)

Kent Beckì˜ Tidy First ë°©ë²•ë¡ ì„ ì ìš©í•˜ì—¬ êµ¬ì¡°ì  ê°œì„ ì„ ë¶„ì„í•˜ê³  ì ìš©í•©ë‹ˆë‹¤.

#### ì‚¬ìš©ë²•

```bash
# í˜„ì¬ step ëŒ€ìƒ ë¶„ì„ (ê¸°ë³¸)
/cw:tidy

# íŠ¹ì • ë””ë ‰í† ë¦¬/íŒŒì¼ ë¶„ì„
/cw:tidy --scope src/auth/

# ë¯¸ë¦¬ë³´ê¸°ë§Œ (ë³€ê²½ ì—†ìŒ)
/cw:tidy --preview

# ë¶„ì„ëœ ë³€ê²½ ì ìš©
/cw:tidy --apply

# Tidy stepì„ task_plan.mdì— ì¶”ê°€
/cw:tidy --add-step

# ë³€ê²½ ì ìš© í›„ ì»¤ë°‹
/cw:tidy --commit
```

#### í”Œë˜ê·¸

| í”Œë˜ê·¸ | ì„¤ëª… |
|--------|------|
| `--scope <path>` | íŠ¹ì • íŒŒì¼ ë˜ëŠ” ë””ë ‰í† ë¦¬ ë¶„ì„ |
| `--preview` | ë¯¸ë¦¬ë³´ê¸°ë§Œ, ë³€ê²½ ì—†ìŒ |
| `--apply` | ë¶„ì„ëœ ë³€ê²½ ìë™ ì ìš© |
| `--add-step` | task_plan.mdì— Tidy step ì¶”ê°€ |
| `--commit` | `[tidy]` í”„ë¦¬í”½ìŠ¤ë¡œ ì»¤ë°‹ |

#### ë¶„ì„ ì¹´í…Œê³ ë¦¬

| ì¹´í…Œê³ ë¦¬ | íƒì§€ í•­ëª© |
|----------|----------|
| **Naming** | ë¶ˆëª…í™•í•œ ë³€ìˆ˜/í•¨ìˆ˜ ì´ë¦„ (`val`, `cb`, `e`) |
| **Duplication** | ì¤‘ë³µ ì½”ë“œ ë¸”ë¡ (>3ì¤„ ë™ì¼) |
| **Dead Code** | ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” í•¨ìˆ˜, ë„ë‹¬ ë¶ˆê°€ ì½”ë“œ |
| **Structure** | ëŒ€í˜• í•¨ìˆ˜ (>50ì¤„), ê¹Šì€ ì¤‘ì²© (>3ë ˆë²¨) |

#### ì¶œë ¥ ì˜ˆì‹œ

```
ğŸ§¹ Tidy First Analysis

**Target**: Step 2.1 - JWT utility module
**Files**: src/auth/jwt.ts, src/auth/types.ts

## Structural Issues Found

### 1. Unclear Naming (3 issues)
| Location | Current | Suggested |
|----------|---------|---------â€”|
| jwt.ts:12 | `val` | `tokenPayload` |
| jwt.ts:45 | `cb` | `verifyCallback` |
| jwt.ts:78 | `e` | `tokenError` |

### 2. Code Duplication (1 issue)
| Files | Pattern | Suggestion |
|-------|---------|------------|
| jwt.ts:23-30, jwt.ts:67-74 | Token parsing | Extract to `parseToken()` |

## Recommended Actions

Option 1: Add Tidy Step (Recommended)
  â†’ `/cw:tidy --add-step`
  â†’ Creates Step 2.0 with tidy tasks

Option 2: Apply Now
  â†’ `/cw:tidy --apply`
  â†’ Apply changes immediately
```

#### Tidy Step ì¶”ê°€ ê²°ê³¼

`/cw:tidy --add-step` ì‹¤í–‰ ì‹œ task_plan.mdê°€ ë‹¤ìŒê³¼ ê°™ì´ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤:

**Before:**
```markdown
| 2.1 | JWT utility module | ğŸ”¨ Build | â³ | Builder | - | |
```

**After:**
```markdown
| 2.0 | Clean up auth naming | ğŸ§¹ Tidy | â³ | Builder | - | Auto-generated |
| 2.1 | JWT utility module | ğŸ”¨ Build | â³ | Builder | 2.0 | |
```

---

### `/cw:reflect` - Ralph Loop ê°œì„  ì‚¬ì´í´ (NEW)

ì‘ì—… ì™„ë£Œ í›„ ì§€ì†ì  ê°œì„  ì‚¬ì´í´ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.

#### ì‚¬ìš©ë²•

```bash
# ë§ˆì§€ë§‰ ì™„ë£Œ ì‘ì—… íšŒê³ 
/cw:reflect

# íŠ¹ì • step íšŒê³ 
/cw:reflect --task 2.3

# ì „ì²´ ì›Œí¬í”Œë¡œìš° íšŒê³ 
/cw:reflect --full
```

#### Ralph Loop ë‹¨ê³„

**RALPH** = **R**eflect â†’ **A**nalyze â†’ **L**earn â†’ **P**lan â†’ **H**abituate

```
ğŸ“ REFLECT  - ë¬´ì—‡ì´ ì¼ì–´ë‚¬ëŠ”ì§€ ê²€í† 
ğŸ” ANALYZE  - íŒ¨í„´ê³¼ ì´ìŠˆ ì‹ë³„
ğŸ’¡ LEARN    - êµí›ˆ ì¶”ì¶œ
ğŸ“‹ PLAN     - ê°œì„  ê³„íš ìˆ˜ë¦½
ğŸ”§ HABITUATE - í–¥í›„ ì‘ì—…ì— ì ìš©
```

#### ì¶œë ¥ ì˜ˆì‹œ

```markdown
## ğŸ”„ Ralph Loop - Improvement Cycle

**Task**: JWT ì¸ì¦ ì‹œìŠ¤í…œ êµ¬í˜„
**Cycle**: #1 | **Date**: 2024-01-15

### ğŸ“ REFLECT
- **Outcome**: âœ… Success
- **Duration**: â±ï¸ Faster than planned
- **Blockers**: None
- **Tools Used**: Builder, Reviewer

### ğŸ” ANALYZE
**What Worked**:
- TDD ì ‘ê·¼ë²•ìœ¼ë¡œ ë””ë²„ê¹… ì‹œê°„ 50% ê°ì†Œ

**What Didn't Work**:
- ë³´ì•ˆ ë¦¬ë·°ê°€ ëŠ¦ê²Œ ì§„í–‰ë¨

### ğŸ’¡ LEARN
**Key Insights**:
1. ë³´ì•ˆ ê´€ë ¨ ì½”ë“œëŠ” êµ¬í˜„ ì´ˆê¸°ì— ë¦¬ë·° í•„ìš”

### ğŸ“‹ PLAN
| Priority | Action | Applies To |
|----------|--------|------------|
| ğŸ”´ High | ë³´ì•ˆ ë¦¬ë·° ì¡°ê¸° ì‹¤í–‰ | ì¸ì¦ ê´€ë ¨ ì‘ì—… |

### ğŸ”§ HABITUATE
**Applied Changes**:
- âœ… Added to .caw/learnings.md
- âœ… Created memory: ralph_learning_20240115
```

---

### `/cw:sync` - Serena ë©”ëª¨ë¦¬ ë™ê¸°í™” (NEW)

CAW ì›Œí¬í”Œë¡œìš° ì§€ì‹ì„ Serena MCP ë©”ëª¨ë¦¬ ì‹œìŠ¤í…œê³¼ ë™ê¸°í™”í•©ë‹ˆë‹¤.

#### ì‚¬ìš©ë²•

```bash
# ì–‘ë°©í–¥ ë™ê¸°í™” (ê¸°ë³¸)
/cw:sync

# CAW â†’ Serena ì—…ë¡œë“œ
/cw:sync --to-serena

# Serena â†’ CAW ë³µì›
/cw:sync --from-serena

# ë™ê¸°í™” ìƒíƒœ í™•ì¸
/cw:sync --status

# ê°•ì œ ë®ì–´ì“°ê¸°
/cw:sync --to-serena --force
```

#### ë™ê¸°í™” ì¹´í…Œê³ ë¦¬

| ì¹´í…Œê³ ë¦¬ | CAW ì†ŒìŠ¤ | Serena ë©”ëª¨ë¦¬ |
|----------|----------|---------------|
| Domain Knowledge | `.caw/knowledge/**` | `domain_knowledge` |
| Lessons Learned | `.caw/learnings.md` | `lessons_learned` |
| Workflow Patterns | `.caw/knowledge/patterns.md` | `workflow_patterns` |
| Insights | `.caw/insights/**` | `caw_insights` |

---

### `/cw:worktree` - Git Worktree ê´€ë¦¬ (NEW)

Phase ë‹¨ìœ„ë¡œ ê²©ë¦¬ëœ git worktreeë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.

#### ì‚¬ìš©ë²•

```bash
# Phase ê¸°ë°˜ (PRIMARY)
/cw:worktree create phase 2          # Phase 2ìš© worktree ìƒì„±
/cw:worktree create phase 2,3,4      # ì—¬ëŸ¬ phase worktree ìƒì„±

# ê´€ë¦¬
/cw:worktree list                    # ëª¨ë“  worktree ìƒíƒœ í‘œì‹œ
/cw:worktree clean                   # ì™„ë£Œëœ worktree ì œê±°
/cw:worktree clean --all             # ëª¨ë“  CAW worktree ì œê±°
```

#### ì›Œí¬í”Œë¡œìš° ì˜ˆì‹œ

```bash
# 1. Phase 1 ì™„ë£Œ (mainì—ì„œ)
/cw:next phase 1

# 2. ë…ë¦½ Phaseë“¤ì„ ìœ„í•œ worktree ìƒì„±
/cw:worktree create phase 2,3,4

# 3. ë³‘ë ¬ í„°ë¯¸ë„ì—ì„œ ì‘ì—…
# Terminal 1:
cd .worktrees/phase-2 && claude
/cw:next --parallel phase 2

# Terminal 2:
cd .worktrees/phase-3 && claude
/cw:next --parallel phase 3

# 4. ì™„ë£Œ í›„ ë³‘í•©
cd /path/to/main/project
/cw:merge --all

# 5. ì •ë¦¬
/cw:worktree clean
```

---

### `/cw:merge` - Worktree ë¸Œëœì¹˜ ë³‘í•© (NEW)

ì™„ë£Œëœ worktree ë¸Œëœì¹˜ë¥¼ main ë¸Œëœì¹˜ë¡œ ë³‘í•©í•©ë‹ˆë‹¤.

#### ì‚¬ìš©ë²•

```bash
# ì™„ë£Œëœ worktree ìë™ ê°ì§€ ë° ë³‘í•©
/cw:merge

# ëª¨ë“  phase worktree ë³‘í•© (ì˜ì¡´ì„± ìˆœì„œ)
/cw:merge --all

# íŠ¹ì • phase ë³‘í•©
/cw:merge phase 2

# ì—¬ëŸ¬ phase ë³‘í•©
/cw:merge phase 2,3

# ë¯¸ë¦¬ë³´ê¸°
/cw:merge --dry-run

# ì¶©ëŒ í•´ê²° í›„ ê³„ì†
/cw:merge --continue

# ë³‘í•© ì·¨ì†Œ
/cw:merge --abort
```

---

### `/cw:status` - ì§„í–‰ ìƒíƒœ í‘œì‹œ

í˜„ì¬ ì›Œí¬í”Œë¡œìš° ìƒíƒœì™€ ì§„í–‰ë¥ ì„ í‘œì‹œí•©ë‹ˆë‹¤.

```bash
/cw:status
/cw:status --worktrees    # Worktree ìƒíƒœ í¬í•¨
```

---

### `/cw:check` - ê·œì¹™ ì¤€ìˆ˜ ê²€ì¦

ComplianceChecker ì—ì´ì „íŠ¸ë¥¼ í˜¸ì¶œí•˜ì—¬ í”„ë¡œì íŠ¸ ê·œì¹™ ì¤€ìˆ˜ë¥¼ ê²€ì¦í•©ë‹ˆë‹¤.

```bash
/cw:check            # ì „ì²´ ê²€ì‚¬
/cw:check --workflow # ì›Œí¬í”Œë¡œìš° êµ¬ì¡° ê²€ì¦
/cw:check --rules    # CLAUDE.md ê·œì¹™ ê²€ì¦
```

---

### `/cw:context` - ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬

ì»¨í…ìŠ¤íŠ¸ íŒŒì¼ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.

```bash
/cw:context show                          # í˜„ì¬ ìƒíƒœ í‘œì‹œ
/cw:context add src/auth/jwt.ts           # íŒŒì¼ ì¶”ê°€
/cw:context add package.json --project    # ì½ê¸° ì „ìš© ì¶”ê°€
/cw:context pack src/utils/helpers.ts     # ì••ì¶• (ì¸í„°í˜ì´ìŠ¤ë§Œ)
/cw:context prune                         # ì˜¤ë˜ëœ íŒŒì¼ ì •ë¦¬
```

---

## ğŸ¤– ì—ì´ì „íŠ¸

### í‹°ì–´ë³„ ëª¨ë¸ ë¼ìš°íŒ…

ëª¨ë“  í•µì‹¬ ì—ì´ì „íŠ¸ëŠ” ì‘ì—… ë³µì¡ë„ì— ë”°ë¼ ìë™ìœ¼ë¡œ ìµœì  ëª¨ë¸ì„ ì„ íƒí•©ë‹ˆë‹¤:

| ì—ì´ì „íŠ¸ | Haiku (â‰¤0.3) | Sonnet (0.3-0.7) | Opus (>0.7) |
|----------|--------------|------------------|-------------|
| **Planner** | ê°„ë‹¨í•œ ê³„íš | ì¼ë°˜ ê³„íš (ê¸°ë³¸) | ë³µì¡í•œ ì•„í‚¤í…ì²˜ |
| **Builder** | ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ | ì¼ë°˜ êµ¬í˜„ | ë³µì¡í•œ ë¡œì§ (ê¸°ë³¸) |
| **Reviewer** | ë¹ ë¥¸ ìŠ¤íƒ€ì¼ ì²´í¬ | ì¼ë°˜ ë¦¬ë·° (ê¸°ë³¸) | ë³´ì•ˆ ì‹¬ì¸µ ë¦¬ë·° |
| **Fixer** | ê°„ë‹¨í•œ ìˆ˜ì • | ë¦¬íŒ©í† ë§ (ê¸°ë³¸) | - |

### ì´ˆê¸°í™” ì—ì´ì „íŠ¸

#### Bootstrapper ì—ì´ì „íŠ¸

| ì†ì„± | ê°’ |
|------|-----|
| ëª¨ë¸ | haiku |
| ë„êµ¬ | Read, Write, Glob, Bash, AskUserQuestion |
| íŠ¸ë¦¬ê±° | `/cw:init`, `/cw:start` (ìë™) |
| ì¶œë ¥ | `.caw/context_manifest.json` |

### ì„¤ê³„ ì—ì´ì „íŠ¸

#### Ideator ì—ì´ì „íŠ¸
- **ì—­í• **: Socratic ëŒ€í™”ë¥¼ í†µí•œ ìš”êµ¬ì‚¬í•­ ë°œêµ´
- **ëª¨ë¸**: sonnet
- **íŠ¸ë¦¬ê±°**: `/cw:brainstorm`
- **ì¶œë ¥**: `.caw/brainstorm.md`

#### Designer ì—ì´ì „íŠ¸
- **ì—­í• **: UX/UI ì„¤ê³„, ì™€ì´ì–´í”„ë ˆì„ ìƒì„±
- **ëª¨ë¸**: sonnet
- **íŠ¸ë¦¬ê±°**: `/cw:design --ui`
- **ì¶œë ¥**: `.caw/design/ux-ui.md`

#### Architect ì—ì´ì „íŠ¸
- **ì—­í• **: ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ì„¤ê³„
- **ëª¨ë¸**: sonnet
- **íŠ¸ë¦¬ê±°**: `/cw:design --arch`
- **ì¶œë ¥**: `.caw/design/architecture.md`

### êµ¬í˜„ ì—ì´ì „íŠ¸

#### Planner ì—ì´ì „íŠ¸
- **ì—­í• **: ìš”êµ¬ì‚¬í•­ ë¶„ì„ ë° ê³„íš ìƒì„±
- **ëª¨ë¸**: haiku / sonnet (ê¸°ë³¸) / opus
- **íŠ¸ë¦¬ê±°**: `/cw:start`
- **ìŠ¤í‚¬**: context-helper

#### Builder ì—ì´ì „íŠ¸
- **ì—­í• **: TDD êµ¬í˜„ ë° í…ŒìŠ¤íŠ¸ ì‹¤í–‰
- **ëª¨ë¸**: haiku / sonnet / opus (ê¸°ë³¸)
- **íŠ¸ë¦¬ê±°**: `/cw:next`
- **ìŠ¤í‚¬**: quality-gate, context-helper, progress-tracker, pattern-learner
- **MCP**: serena, context7

#### Reviewer ì—ì´ì „íŠ¸
- **ì—­í• **: ì½”ë“œ í’ˆì§ˆ ë¶„ì„
- **ëª¨ë¸**: haiku / sonnet (ê¸°ë³¸) / opus
- **íŠ¸ë¦¬ê±°**: `/cw:review`
- **ìŠ¤í‚¬**: review-assistant

#### Fixer ì—ì´ì „íŠ¸
- **ì—­í• **: ë¦¬ë·° ê²°ê³¼ ìˆ˜ì • ë° ë¦¬íŒ©í† ë§
- **ëª¨ë¸**: haiku / sonnet (ê¸°ë³¸)
- **íŠ¸ë¦¬ê±°**: `/cw:fix --deep`
- **ì¶œë ¥**: ìˆ˜ì •ëœ ì½”ë“œ

#### ComplianceChecker ì—ì´ì „íŠ¸
- **ì—­í• **: ê·œì¹™ ë° ì»¨ë²¤ì…˜ ì¤€ìˆ˜ ê²€ì¦
- **ëª¨ë¸**: haiku
- **íŠ¸ë¦¬ê±°**: `/cw:check`

---

## ğŸ§  ìŠ¤í‚¬

CAWëŠ” 16ê°œì˜ ì „ë¬¸ ìŠ¤í‚¬ì„ í¬í•¨í•©ë‹ˆë‹¤:

### í•µì‹¬ ìŠ¤í‚¬

| ìŠ¤í‚¬ | ì„¤ëª… | ì‚¬ìš© ì‹œì  |
|------|------|----------|
| **reflect** | Ralph Loop ê°œì„  ì‚¬ì´í´ | `/cw:reflect` |
| **serena-sync** | Serena ë©”ëª¨ë¦¬ ë™ê¸°í™” | `/cw:sync` |
| **plan-detector** | Plan Mode ê³„íš ê°ì§€ | ìë™ |
| **context-manager** | ì»¨í…ìŠ¤íŠ¸ íŒŒì¼ ê´€ë¦¬ | `/cw:context` |
| **context-helper** | ì—ì´ì „íŠ¸ ì»¨í…ìŠ¤íŠ¸ ì§€ì› | ì—ì´ì „íŠ¸ ë‚´ë¶€ |
| **quick-fix** | ê°„ë‹¨í•œ ì´ìŠˆ ìë™ ìˆ˜ì • | `/cw:fix` |
| **quality-gate** | í’ˆì§ˆ ê¸°ì¤€ ê²€ì¦ (Tidy First í¬í•¨) | Builder ì™„ë£Œ ì‹œ |
| **commit-discipline** | Tidy First ì»¤ë°‹ ë¶„ë¦¬ ê²€ì¦ | ì»¤ë°‹ ì „ (NEW) |

### ì§€ì‹ ê´€ë¦¬ ìŠ¤í‚¬

| ìŠ¤í‚¬ | ì„¤ëª… | ì‚¬ìš© ì‹œì  |
|------|------|----------|
| **knowledge-base** | í”„ë¡œì íŠ¸ ì§€ì‹ ì €ì¥ì†Œ | ì—ì´ì „íŠ¸ ë‚´ë¶€ |
| **pattern-learner** | ì½”ë“œë² ì´ìŠ¤ íŒ¨í„´ í•™ìŠµ | `/cw:start`, Builder |
| **insight-collector** | ì¸ì‚¬ì´íŠ¸ ìˆ˜ì§‘ ë° ì €ì¥ | ìë™ |
| **decision-logger** | ì•„í‚¤í…ì²˜ ê²°ì • ê¸°ë¡ | ìë™ |

### ì§„í–‰ ê´€ë¦¬ ìŠ¤í‚¬

| ìŠ¤í‚¬ | ì„¤ëª… | ì‚¬ìš© ì‹œì  |
|------|------|----------|
| **progress-tracker** | ì§„í–‰ë¥  ì¶”ì  | `/cw:status`, Builder |
| **session-persister** | ì„¸ì…˜ ìƒíƒœ ì €ì¥/ë³µì› | ì„¸ì…˜ ì‹œì‘/ì¢…ë£Œ |
| **review-assistant** | ì»¨í…ìŠ¤íŠ¸ ì¸ì‹ ë¦¬ë·° ì²´í¬ë¦¬ìŠ¤íŠ¸ | `/cw:review` |
| **dependency-analyzer** | Phase/Step ì˜ì¡´ì„± ë¶„ì„ | `/cw:next` |

---

## ğŸ“– ì›Œí¬í”Œë¡œìš° ì˜ˆì‹œ

### ì˜ˆì‹œ 1: ê¸°ë³¸ ì›Œí¬í”Œë¡œìš° (ìë™ ë³‘ë ¬)

```bash
# 1. ì›Œí¬í”Œë¡œìš° ì‹œì‘
/cw:start "ì‚¬ìš©ì í”„ë¡œí•„ API êµ¬í˜„"

# 2. ê³„íš ê²€í† 
/cw:status

# 3. ìë™ ë³‘ë ¬ ì‹¤í–‰ (ê¸°ë³¸)
/cw:next          # ë³‘ë ¬ ê°€ëŠ¥í•œ step ìë™ ê°ì§€ ë° ì‹¤í–‰

# 4. ì§„í–‰ í™•ì¸
/cw:status

# 5. ì™„ë£Œ í›„ ë¦¬ë·°
/cw:review

# 6. ì§€ì†ì  ê°œì„ 
/cw:reflect
```

### ì˜ˆì‹œ 2: Git Worktree ë³‘ë ¬ ì›Œí¬í”Œë¡œìš°

```bash
# 1. Phase 1 ì™„ë£Œ (mainì—ì„œ)
/cw:start "ëŒ€ê·œëª¨ ë¦¬íŒ©í† ë§"
/cw:next phase 1

# 2. ë…ë¦½ Phaseë“¤ì„ ìœ„í•œ worktree ìƒì„±
/cw:worktree create phase 2,3,4

# 3. ê° í„°ë¯¸ë„ì—ì„œ ë³‘ë ¬ ì‘ì—…
# Terminal 1: cd .worktrees/phase-2 && claude && /cw:next --parallel phase 2
# Terminal 2: cd .worktrees/phase-3 && claude && /cw:next --parallel phase 3
# Terminal 3: cd .worktrees/phase-4 && claude && /cw:next --parallel phase 4

# 4. ë³‘í•©
cd /project
/cw:merge --all

# 5. ì •ë¦¬ ë° ë¦¬ë·°
/cw:worktree clean
/cw:review
/cw:reflect --full
```

### ì˜ˆì‹œ 3: Plan Mode ì—°ê³„

```bash
# 1. Claudeì˜ Plan Modeì—ì„œ ê³„íš ì‘ì„±
# (Plan Mode ì‚¬ìš©)

# 2. CAWë¡œ ê³„íš ê°€ì ¸ì˜¤ê¸°
/cw:start --from-plan

# 3. ìë™ ë³‘ë ¬ êµ¬í˜„ ì‹œì‘
/cw:next

# 4. ì§€ì‹ ë™ê¸°í™”
/cw:sync --to-serena
```

---

## ğŸª í›… ë™ì‘

### SessionStart í›…

ì„¸ì…˜ ì‹œì‘ ì‹œ CAW í”ŒëŸ¬ê·¸ì¸ ë¡œë“œë¥¼ ì•Œë¦½ë‹ˆë‹¤.

```json
{
  "type": "command",
  "command": "echo CAW plugin loaded"
}
```

### PreToolUse í›… - Tidy First ì»¤ë°‹ ê²€ì¦

`git commit` ëª…ë ¹ ì‹¤í–‰ ì „ **Tidy First ê·œì¹™**ì„ ìë™ ê²€ì¦í•©ë‹ˆë‹¤.

```
git commit ê°ì§€
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Analyze staged changes      â”‚
â”‚ (git diff --staged)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Classify change types       â”‚
â”‚ â€¢ Structural (Tidy)         â”‚
â”‚ â€¢ Behavioral (Build)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
       â–¼               â–¼
  All Tidy?       All Build?
       â”‚               â”‚
       â–¼               â–¼
  âœ… Allow         âœ… Allow
  [tidy] prefix   [feat]/[fix]

       â”‚
       â–¼ Mixed?
       â”‚
       â–¼
  âŒ Block commit
  â†’ ë¶„ë¦¬ í•„ìš”
  â†’ /cw:tidy --split
```

**ê²€ì¦ ê¸°ì¤€** (commit-discipline ìŠ¤í‚¬ ì°¸ì¡°):

| ë³€ê²½ ìœ í˜• | ì˜ˆì‹œ | ì»¤ë°‹ í”„ë¦¬í”½ìŠ¤ |
|----------|------|--------------|
| Structural (Tidy) | ì´ë¦„ ë³€ê²½, ë©”ì„œë“œ ì¶”ì¶œ, íŒŒì¼ ì´ë™ | `[tidy]` |
| Behavioral (Build) | ìƒˆ ê¸°ëŠ¥, ë¡œì§ ë³€ê²½, ë²„ê·¸ ìˆ˜ì • | `[feat]`, `[fix]` |
| Mixed | ìœ„ ë‘ ê°€ì§€ í˜¼í•© | âŒ ì°¨ë‹¨ë¨ |

### PostToolUse í›…

Bash ë„êµ¬ ì‚¬ìš© í›„ ìë™ ì¶”ì í•©ë‹ˆë‹¤.

### Quality Gate (Builder ë‚´ë¶€ íŠ¸ë¦¬ê±°)

> **Note**: Quality GateëŠ” hooks.jsonì´ ì•„ë‹Œ Builder ì—ì´ì „íŠ¸ ë‚´ë¶€ì—ì„œ í˜¸ì¶œë©ë‹ˆë‹¤.

Step ì™„ë£Œ ì‹œ ìë™ìœ¼ë¡œ í’ˆì§ˆ ê²€ì¦ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤:

```
Step êµ¬í˜„ ì™„ë£Œ
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Code Changes (Required)  â”‚â”€â”€â†’ ë³€ê²½ ì—†ìŒ? â†’ âŒ Fail
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. Compilation (Required)   â”‚â”€â”€â†’ ì˜¤ë¥˜? â†’ âŒ Fail
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. Linting (Warning)        â”‚â”€â”€â†’ ê²½ê³  ìˆ˜ì§‘
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. Tidy First (Required)    â”‚â”€â”€â†’ í˜¼í•© ë³€ê²½? â†’ âŒ Fail
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. Tests (Required)         â”‚â”€â”€â†’ ì‹¤íŒ¨? â†’ âŒ Fail (3íšŒ ì¬ì‹œë„)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. Conventions (Warning)    â”‚â”€â”€â†’ ê²½ê³  ìˆ˜ì§‘
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â–¼
     âœ… Quality Gate PASSED
     â†’ Step ì™„ë£Œë¡œ í‘œì‹œ
```

---

## âœ… ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

### 1. ìë™ ë³‘ë ¬ í™œìš©

```bash
# ê¸°ë³¸ê°’ì´ ìë™ ë³‘ë ¬ì´ë¯€ë¡œ ê·¸ëŒ€ë¡œ ì‚¬ìš©
/cw:next

# ë‹¨ìˆœ ì‘ì—…ì—ë§Œ ìˆœì°¨ ì‹¤í–‰
/cw:next --sequential
```

### 2. ëŒ€ê·œëª¨ ì‘ì—…ì€ Worktree ì‚¬ìš©

```bash
# Phaseê°€ 3ê°œ ì´ìƒì¸ ëŒ€ê·œëª¨ ì‘ì—…
/cw:worktree create phase 2,3,4
# ê° í„°ë¯¸ë„ì—ì„œ ë³‘ë ¬ ì‘ì—…
```

### 3. ì‘ì—… ì™„ë£Œ í›„ Ralph Loop

```bash
# ëª¨ë“  ì‘ì—… ì™„ë£Œ í›„ íšŒê³ 
/cw:reflect --full

# ì£¼ìš” í•™ìŠµ ë‚´ìš© ì˜ì†í™”
/cw:sync --to-serena
```

### 4. ì •ê¸°ì  ë™ê¸°í™”

```bash
# ì„¸ì…˜ ì¢…ë£Œ ì „
/cw:sync --to-serena

# ìƒˆ ì„¸ì…˜ ì‹œì‘ ì‹œ
/cw:sync --from-serena
```

---

## â“ ë¬¸ì œ í•´ê²°

### Q: ë³‘ë ¬ ì‹¤í–‰ì´ ë˜ì§€ ì•Šì•„ìš”

```bash
# ì˜ì¡´ì„± í™•ì¸
/cw:status

# ê°•ì œ ë³‘ë ¬ ì‹¤í–‰
/cw:next --parallel
```

### Q: Worktree ì¶©ëŒì´ ë°œìƒí•´ìš”

```bash
# ì¶©ëŒ íŒŒì¼ ìˆ˜ì • í›„
git add <resolved-files>
/cw:merge --continue

# ë˜ëŠ” ë³‘í•© ì·¨ì†Œ
/cw:merge --abort
```

### Q: Serena ì—°ê²°ì´ ì•ˆ ë¼ìš”

MCP ì„œë²„ ì„¤ì •ì„ í™•ì¸í•˜ì„¸ìš”. Serena MCPê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.

### Q: í•™ìŠµ ë‚´ìš©ì´ ì‚¬ë¼ì ¸ìš”

```bash
# Serenaì— ë™ê¸°í™”
/cw:sync --to-serena

# ë³µì›
/cw:sync --from-serena
```

---

## ğŸ—ºï¸ ë¡œë“œë§µ

### ì™„ë£Œëœ ê¸°ëŠ¥

- [x] Bootstrapper ì—ì´ì „íŠ¸ - í™˜ê²½ ì´ˆê¸°í™” (v1.1.0)
- [x] Fixer ì—ì´ì „íŠ¸ - ì½”ë“œ ìˆ˜ì •/ë¦¬íŒ©í† ë§ (v1.2.0)
- [x] í‹°ì–´ë³„ ëª¨ë¸ ë¼ìš°íŒ… (v1.3.0)
- [x] ìë™ ë³‘ë ¬ ì‹¤í–‰ (v1.4.0)
- [x] Git Worktree ì§€ì› (v1.5.0)
- [x] Ralph Loop ì§€ì†ì  ê°œì„  (v1.5.0)
- [x] Serena ë©”ëª¨ë¦¬ ë™ê¸°í™” (v1.5.0)
- [x] **Tidy First ë°©ë²•ë¡ ** (v1.6.0) - Kent Beck ì»¤ë°‹ ë¶„ë¦¬ ê·œì¹™
- [x] ëª¨ë“  í•µì‹¬ ì—ì´ì „íŠ¸ (9ê°œ)
- [x] ëª¨ë“  í•µì‹¬ ìŠ¤í‚¬ (16ê°œ)

### ì˜ˆì •ëœ ê¸°ëŠ¥

- [ ] VS Code í™•ì¥ í†µí•©
- [ ] GitHub Actions í†µí•©
- [ ] ë©€í‹° í”„ë¡œì íŠ¸ ì§€ì›
- [ ] ì›¹ ëŒ€ì‹œë³´ë“œ

---

## ğŸ“š í…ŒìŠ¤íŠ¸

```bash
# ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
cd plugins/context-aware-workflow
python3 -m pytest tests/ -v

# í”ŒëŸ¬ê·¸ì¸ êµ¬ì¡° í…ŒìŠ¤íŠ¸ë§Œ
python3 tests/test_plugin_structure.py
```
